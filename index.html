<!DOCTYPE html>

<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js"></script>
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      body {
        background-color: #143f6b;
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .piano {
        display: flex;
      }

      .key {
        height: calc(var(--width) * 4);
        width: var(--width);
      }

      .white {
        --width: 100px;
        background-color: white;
        border: 1px solid #333;
      }

      .white.active {
        background-color: #ccc;
      }

      .black {
        --width: 60px;
        background-color: black;
        margin-left: calc(var(--width) / -2);
        margin-right: calc(var(--width) / -2);
        z-index: 2;
      }

      .black.active {
        background-color: #333;
      }
    </style>
  </head>

  <body>
    <div id="main" class="main">
      <div class="piano">
        <div data-note="C" class="key white"></div>
        <div data-note="Db" class="key black"></div>
        <div data-note="D" class="key white"></div>
        <div data-note="Eb" class="key black"></div>
        <div data-note="E" class="key white"></div>
        <div data-note="F" class="key white"></div>
        <div data-note="Gb" class="key black"></div>
        <div data-note="G" class="key white"></div>
        <div data-note="Ab" class="key black"></div>
        <div data-note="A" class="key white"></div>
        <div data-note="Bb" class="key black"></div>
        <div data-note="B" class="key white"></div>
      </div>

      <audio id="C" src="notes/C.mp3"></audio>
      <audio id="Db" src="notes/Db.mp3"></audio>
      <audio id="D" src="notes/D.mp3"></audio>
      <audio id="Eb" src="notes/Eb.mp3"></audio>
      <audio id="E" src="notes/E.mp3"></audio>
      <audio id="F" src="notes/F.mp3"></audio>
      <audio id="Gb" src="notes/Gb.mp3"></audio>
      <audio id="G" src="notes/G.mp3"></audio>
      <audio id="Ab" src="notes/Ab.mp3"></audio>
      <audio id="A" src="notes/A.mp3"></audio>
      <audio id="Bb" src="notes/Bb.mp3"></audio>
      <audio id="B" src="notes/B.mp3"></audio>
    </div>
    <script>
      //address for profile images
      const student =
        "https://cdn.glitch.me/79cb0af8-289f-4799-9190-fc33be9edede%2Fdownload.jpg?v=1638296175995";
      const instructor =
        "https://cdn.glitch.me/79cb0af8-289f-4799-9190-fc33be9edede%2F7bc0dee81fff44819463baea6d7e3c2c.jpg?v=1638296153357";

      //figure out who this client is, this is for styling in the chatting application
      var me;
      var address = window.location.href;
      var who = address.substring(address.lastIndexOf("/") + 1);
      if (who === "instructor") {
        me = {
          id: "instructor",
          img: instructor,
        };
      } else {
        me = {
          id: "student",
          img: student,
        };
      }

      //init socket
      var socket = io();

      //connect to your server address
      socket.connect("https://collaborative-piano.glitch.me/:3000");

      //when a text is recieved...
      socket.on("data", (d) => {});
    </script>
  </body>
</html>
